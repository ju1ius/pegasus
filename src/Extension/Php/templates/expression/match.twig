{% set result_var = '$result_' ~ expr.id %}
/**
* Matching: {{ expr }}
*/
$pattern = {{ repr_regexp(expr.compiledPattern) }};
if (preg_match($pattern, $this->text, $matches, 0, $this->pos)) {
    {{ result_var }} = new Node\Match('{{ expr.name }}', $this->text, $this->pos, $this->pos + strlen($matches[0]), $matches[0]);
    $this->pos = {{ result_var }}->end;
} else {
{{ macros.error(expr)|indent }}
}

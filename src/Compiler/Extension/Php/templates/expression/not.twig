{% set result_var = result_varname(expr) %}
{% set pos_var = position_varname(expr) %}
{% set subres_var = result_varname(expr[0]) %}
{{ expr_comment(expr) }}
{{ pos_var }} = $this->pos;
{{ macros.start_non_capturing(expr) }}
{{ render_expr(expr[0], {capturing: false}) }}
{{ expr_comment(expr, 'result') }}
{{ result_var }} = !{{ subres_var }};
{{ macros.end_non_capturing(expr) }}
if (!{{ result_var }}) {
    {{ macros.error(expr, pos_var)|indent }}
}

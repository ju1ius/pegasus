{% extends "expr.twig" %}
{% import "macros.twig" as h %}

{% set use_apply = parser_type is constant('ju1ius\\Pegasus\\Compiler\\Compiler::PARSER_EXTENDED_PACKRAT') %}

{% block matching %}
{% if use_apply -%}
    {{ result_var }} = parent::apply('{{ expr.name }}', $bindings);
{%- else %}
    {{ result_var }} = parent::match_{{ expr.name }}($bindings);
{%- endif %}
{%- endblock matching %}


{% block capturing %}
{{ block('matching') }}
{%- endblock capturing %}

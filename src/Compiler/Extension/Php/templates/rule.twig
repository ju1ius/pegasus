{% set result_var = result_varname(expr) %}
/**
 * Matching rule: {{ expr.name }} = {{ expr|escape_comment }}
 */
public function match_{{ expr.name }}(array $bindings): Node|bool
{
{% if use_cache %}
    if ($memo = $this->memo[$this->isCapturing][$this->pos]['{{ expr.name }}'] ?? null) {
        $this->pos = $memo[0];
        return $memo[1];
    }
    $memo = [$this->pos, false];
{% endif %}
    {{ render_expr(expr, context)|indent }}
{% if use_cache %}
    $memo[0] = $this->pos;
    $memo[1] = {{ result_var }};
    $this->memo[$this->isCapturing][$this->pos]['{{ expr.name }}'] = $memo;
{% endif %}
    return {{ result_var }} ?? false;
}
